{% extends "base.html" %}
{% block navbar %}{% endblock %}
{% block title %}Staff Login â€“ Shop Management{% endblock %}

{% block content %}
<style>
  .login-page {
    background: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: -24px;
  }
  .login-card {
    background: #fff;
    padding: 2.5rem;
    border-radius: 14px;
    box-shadow: 0 12px 32px rgba(0,0,0,0.18);
    width: 100%;
    max-width: 420px;
  }
  .login-card .icon-wrap {
    width: 52px; height: 52px;
    border-radius: 50%;
    background: linear-gradient(135deg, #0ea5e9, #6366f1);
    display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; margin: 0 auto 1rem;
  }
  .login-card h2 {
    font-size: 1.4rem; font-weight: 700; color: #1e293b; text-align: center;
  }
  .login-card .subtitle {
    text-align: center; color: #64748b; font-size: 0.85rem; margin-bottom: 1.5rem;
  }
  .login-btn {
    width: 100%;
    background: linear-gradient(135deg, #0ea5e9, #6366f1);
    border: none; color: #fff; font-weight: 600;
    padding: 0.65rem 1rem; border-radius: 8px; font-size: 0.95rem;
    transition: opacity .2s, transform .15s;
  }
  .login-btn:hover { opacity: .9; transform: translateY(-1px); }
  .switch-link { text-align: center; margin-top: 1.2rem; font-size: 0.83rem; color: #64748b; }
  .switch-link a { color: #0ea5e9; font-weight: 600; text-decoration: none; }
  .switch-link a:hover { text-decoration: underline; }
</style>

<div class="login-page">
  <div class="login-card">
    <div class="icon-wrap">ðŸ‘¤</div>
    <h2>Staff Login</h2>
    <p class="subtitle">Enter your shop code, username, and password.</p>

    {% if messages %}
      {% for message in messages %}
      <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible mb-3" style="font-size:.875rem;">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
      {% endfor %}
    {% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label class="form-label fw-semibold" style="font-size:.875rem;">Shop Code</label>
        <input type="text" name="shop_code" class="form-control"
               value="{{ request.POST.shop_code|default:'' }}"
               placeholder="e.g. kopila" required autofocus autocomplete="off">
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold" style="font-size:.875rem;">Username</label>
        <input type="text" name="username" class="form-control"
               value="{{ request.POST.username|default:'' }}"
               placeholder="Your username" required autocomplete="username">
      </div>

      <div class="mb-4">
        <label class="form-label fw-semibold" style="font-size:.875rem;">Password</label>
        <input type="password" name="password" class="form-control"
               placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required autocomplete="current-password">
      </div>

      <button type="submit" class="login-btn">Sign In</button>
    </form>

    <div class="switch-link">
      <a href="{% url 'vendor_login' %}">Vendor login</a>
      &nbsp;Â·&nbsp;
      <a href="{% url 'superadmin_login' %}">Superadmin login</a>
    </div>
  </div>
</div>
{% endblock %}
